<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Monitoring VM Linux</title>
    <link rel="stylesheet" href="template.css">
</head>

<body>
<header class="header">
    <h1>Monitoring VM Linux</h1>
</header>

<main>
<section class="dashboard">

    <!-- SECTION SYSTEME -->
    <details class="card">
        <summary>
            <img src="Images/icons8-poste-de-travail-50.png" class="logo" alt="">
            <span>System</span>
        </summary>
        <div class="content">
            Hostname : {{ system_hostname }}<br>
            OS : {{ system_os_info }}<br>
            Boot time : {{ system_boot_time }}<br>
            Uptime : {{ system_uptime }}<br>
            Utilisateurs : {{ system_user_count }}<br>
            IP : {{ system_main_ip }}
        </div>
    </details>

    <!-- SECTION CPU -->
    <details class="card">
        <summary>
            <img src="Images/icons8-cpu-50.png" class="logo" alt="">
            <span>CPU</span>
        </summary>
        <div class="content">
            Cores : {{ cpu_data.nb_coeurs }}<br>
            Fréquence : {{ cpu_data.frequence }} MHz<br>
            Utilisation totale : {{ cpu_data.cpu_usage }} %
        </div>
    </details>

    <!-- SECTION MEMOIRE -->
    <details class="card">
        <summary>
            <img src="Images/icons8-ssd-50.png" class="logo" alt="">
            <span>Mémoire</span>
        </summary>
        <div class="content">
            Utilisation : {{ ram_data["ram (%)"] }} %<br>
            RAM utilisée : {{ ram_data["ram utilisé (gb)"] }} GB<br>
            RAM totale : {{ ram_data["ram total (gb)"] }} GB
        </div>
    </details>

    <!-- SECTION RESEAU -->
    <details class="card">
        <summary>
            <img src="Images/icons8-routeur-wi-fi-50.png" class="logo" alt="">
            <span>Réseau</span>
        </summary>
        <div class="content">
            IP : {{ system_main_ip }}
        </div>
    </details>

    <!-- SECTION PROCESSUS -->
    <details class="card">
        <summary>
            <img src="Images/icons8-application-50.png" class="logo" alt="">
            <span>Processus</span>
        </summary>
        <div class="content">
            <ul>
            {% for name, cpu, ram, total in top_processes %}
                <li>{{ name }} | CPU: {{ cpu }} % | RAM: {{ ram }} % | Total: {{ total }} %</li>
            {% endfor %}
            </ul>
        </div>
    </details>

    <!-- SECTION FICHIERS -->
    <details class="card">
        <summary>
            <img src="Images/icons8-documents-50.png" class="logo" alt="">
            <span>Fichiers</span>
        </summary>
        <div class="content">
            Dossier analysé : {{ analyzed_directory }}<br>
            <ul>
            {% for filename, info in files_info.items() %}
                <li>{{ filename }} | Dossier : {{ info.folder }} | Taille : {{ info.size }} octets | Chemin : {{ info.path }}</li>
            {% endfor %}
            </ul>
            <p>Extensions :</p>
            <ul>
                <li>TXT : {{ extension_results['.txt'].count }} ({{ extension_results['.txt'].percentage }}%)</li>
                <li>PY : {{ extension_results['.py'].count }} ({{ extension_results['.py'].percentage }}%)</li>
                <li>PDF : {{ extension_results['.pdf'].count }} ({{ extension_results['.pdf'].percentage }}%)</li>
                <li>JPG : {{ extension_results['.jpg'].count }} ({{ extension_results['.jpg'].percentage }}%)</li>
            </ul>
        </div>
    </details>

</section>
</main>

<footer>
    <img src="Images/illu_logo_blog-56-1024x562.png" width="150px">
    <p>Virtual Machine Linux</p>
</footer>

</body>
</html>